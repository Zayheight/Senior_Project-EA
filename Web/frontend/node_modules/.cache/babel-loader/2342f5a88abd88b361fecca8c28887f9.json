{"ast":null,"code":"var _jsxFileName = \"/Users/fluke/Desktop/project-4/Senior_Project-EA-main/Web/frontend/src/component/com-singin/formlogin.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport \"../style-component/form-login.css\";\nimport Axios from \"axios\";\nimport { useState } from \"react\";\nimport Popup from \"./popup\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Formlogin(_ref) {\n  _s();\n\n  let {\n    setToken\n  } = _ref;\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [popup, setPopup] = useState(false);\n  const navigate = useNavigate();\n\n  const signin = async e => {\n    e.preventDefault();\n    Axios.post(\"http://localhost:3001/signin\", {\n      email: email,\n      password: password\n    }).then(response => {\n      if (response.data.error) {\n        setPopup(true);\n      } else {\n        setToken(response.data[0].user_name);\n\n        if (response.data[0].user_name == \"admin\") {\n          navigate(\"/Summary\");\n        } else {\n          navigate(\"/UserHome\");\n        }\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: signin,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"sing-in-form \",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          class: \"title\",\n          children: \"Sign in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"input-field\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Email\",\n            onChange: event => {\n              setEmail(event.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"input-field\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            placeholder: \"password\",\n            onChange: event => {\n              setPassword(event.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          class: \"btn-submit\",\n          children: \" submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Popup, {\n          trigger: popup,\n          setTrigger: setPopup\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 7\n  }, this);\n}\n\n_s(Formlogin, \"M0s/lcyJv7GJwv5f6EHv2Y4mpcY=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Formlogin;\nexport default Formlogin;\n\nvar _c;\n\n$RefreshReg$(_c, \"Formlogin\");","map":{"version":3,"names":["React","Axios","useState","Popup","useNavigate","Formlogin","setToken","email","setEmail","password","setPassword","popup","setPopup","navigate","signin","e","preventDefault","post","then","response","data","error","user_name","event","target","value"],"sources":["/Users/fluke/Desktop/project-4/Senior_Project-EA-main/Web/frontend/src/component/com-singin/formlogin.js"],"sourcesContent":["import React from \"react\";\nimport \"../style-component/form-login.css\"\nimport Axios from \"axios\";\nimport { useState } from \"react\";\nimport Popup from \"./popup\";\nimport {useNavigate } from \"react-router-dom\"\n\nfunction Formlogin({ setToken }){\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n    const [popup,setPopup]=useState(false);\n    const navigate = useNavigate();\n    \n    const signin =async e=>{\n        e.preventDefault();\n        Axios.post(\"http://localhost:3001/signin\",{\n            email:email,\n            password:password,\n        }).then((response)=>{\n            if(response.data.error){\n                setPopup(true);\n            }else{\n                setToken(response.data[0].user_name);\n                if(response.data[0].user_name==\"admin\"){\n                    navigate(\"/Summary\");\n                }\n                else{\n                    navigate(\"/UserHome\");\n                }\n            }\n        });\n    }\n    return(\n      <div >\n            <form onSubmit={signin}>\n                <div class=\"sing-in-form \">\n                <h2 class=\"title\">Sign in</h2>\n                    <div class=\"input-field\">\n                        <input type=\"text\" placeholder=\"Email\" \n                        onChange={(event) => {\n                            setEmail(event.target.value)\n                        }}\n                        /> \n                    </div>\n                    <div class=\"input-field\">\n                        <input type=\"password\" placeholder=\"password\"\n                        onChange={(event) => {\n                            setPassword(event.target.value)\n                        }}\n                        />\n                    </div>\n\n                    <button class=\"btn-submit\"> submit</button>\n                    <Popup trigger={popup} setTrigger={setPopup}/>\n                </div>\n            </form>\n        </div>\n    );\n}\n\nexport default Formlogin;"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,mCAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,SAAQC,WAAR,QAA2B,kBAA3B;;;AAEA,SAASC,SAAT,OAAgC;EAAA;;EAAA,IAAb;IAAEC;EAAF,CAAa;EAC5B,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBN,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACO,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,EAAD,CAAxC;EAEA,MAAM,CAACS,KAAD,EAAOC,QAAP,IAAiBV,QAAQ,CAAC,KAAD,CAA/B;EACA,MAAMW,QAAQ,GAAGT,WAAW,EAA5B;;EAEA,MAAMU,MAAM,GAAE,MAAMC,CAAN,IAAS;IACnBA,CAAC,CAACC,cAAF;IACAf,KAAK,CAACgB,IAAN,CAAW,8BAAX,EAA0C;MACtCV,KAAK,EAACA,KADgC;MAEtCE,QAAQ,EAACA;IAF6B,CAA1C,EAGGS,IAHH,CAGSC,QAAD,IAAY;MAChB,IAAGA,QAAQ,CAACC,IAAT,CAAcC,KAAjB,EAAuB;QACnBT,QAAQ,CAAC,IAAD,CAAR;MACH,CAFD,MAEK;QACDN,QAAQ,CAACa,QAAQ,CAACC,IAAT,CAAc,CAAd,EAAiBE,SAAlB,CAAR;;QACA,IAAGH,QAAQ,CAACC,IAAT,CAAc,CAAd,EAAiBE,SAAjB,IAA4B,OAA/B,EAAuC;UACnCT,QAAQ,CAAC,UAAD,CAAR;QACH,CAFD,MAGI;UACAA,QAAQ,CAAC,WAAD,CAAR;QACH;MACJ;IACJ,CAfD;EAgBH,CAlBD;;EAmBA,oBACE;IAAA,uBACM;MAAM,QAAQ,EAAEC,MAAhB;MAAA,uBACI;QAAK,KAAK,EAAC,eAAX;QAAA,wBACA;UAAI,KAAK,EAAC,OAAV;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADA,eAEI;UAAK,KAAK,EAAC,aAAX;UAAA,uBACI;YAAO,IAAI,EAAC,MAAZ;YAAmB,WAAW,EAAC,OAA/B;YACA,QAAQ,EAAGS,KAAD,IAAW;cACjBf,QAAQ,CAACe,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAR;YACH;UAHD;YAAA;YAAA;YAAA;UAAA;QADJ;UAAA;UAAA;UAAA;QAAA,QAFJ,eASI;UAAK,KAAK,EAAC,aAAX;UAAA,uBACI;YAAO,IAAI,EAAC,UAAZ;YAAuB,WAAW,EAAC,UAAnC;YACA,QAAQ,EAAGF,KAAD,IAAW;cACjBb,WAAW,CAACa,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAX;YACH;UAHD;YAAA;YAAA;YAAA;UAAA;QADJ;UAAA;UAAA;UAAA;QAAA,QATJ,eAiBI;UAAQ,KAAK,EAAC,YAAd;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAjBJ,eAkBI,QAAC,KAAD;UAAO,OAAO,EAAEd,KAAhB;UAAuB,UAAU,EAAEC;QAAnC;UAAA;UAAA;UAAA;QAAA,QAlBJ;MAAA;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA;EADN;IAAA;IAAA;IAAA;EAAA,QADF;AA0BH;;GApDQP,S;UAKYD,W;;;KALZC,S;AAsDT,eAAeA,SAAf"},"metadata":{},"sourceType":"module"}